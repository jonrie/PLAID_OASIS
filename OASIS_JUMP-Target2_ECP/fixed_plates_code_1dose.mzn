int: temp = length(fixed_plates);

array [int] of int: fixed_plates = [499, 575, 98, 495, 657, 359, 569, 17, 653, 13, 544, 216, 673, 326, 562, 422, 373, 549, 130, 46, 392, 673, 586, 71, 260, 581, 642, 325, 532, 492, 220, 546, 342, 656, 463, 454, 364, 460, 501, 20, 673, 535, 673, 111, 231, 158, 513, 566, 673, 208, 618, 485, 324, 394, 259, 643, 470, 34, 263, 238, 189, 673, 599, 346, 176, 124, 236, 652, 305, 257, 588, 507, 133, 446, 578, 434, 402, 411, 572, 552, 673, 230, 278, 673, 159, 602, 605, 56, 200, 601, 403, 169, 647, 105, 662, 429, 673, 300, 383, 591, 423, 673, 445, 345, 627, 623, 118, 141, 322, 530, 560, 93, 584, 663, 389, 630, 443, 613, 330, 654, 616, 79, 355, 673, 626, 122, 596, 614, 592, 607, 151, 660, 18, 651, 95, 673, 239, 334, 506, 1, 508, 568, 213, 634, 237, 673, 275, 382, 502, 494, 673, 317, 178, 638, 635, 400, 664, 299, 112, 615, 636, 138, 650, 612, 288, 639, 640, 529, 587, 628, 61, 644, 610, 45, 483, 505, 108, 589, 661, 117, 19, 545, 673, 622, 436, 227, 139, 673, 49, 380, 153, 170, 332, 59, 452, 203, 462, 331, 648, 88, 430, 604, 195, 673, 472, 396, 146, 672, 55, 564, 283, 164, 198, 553, 243, 673, 571, 538, 388, 358, 304, 665, 154, 129, 199, 671, 120, 254, 476, 456, 311, 89, 576, 673, 421, 633, 673, 406, 161, 611, 31, 646, 335, 433, 343, 52, 121, 673, 488, 33, 219, 32, 241, 673, 41, 347, 475, 87, 467, 173, 9, 641, 537, 297, 668, 277, 469, 374, 96, 51, 349, 323, 228, 673, 222, 211, 655, 47, 565, 70, 350, 144, 673, 190, 270, 64, 184, 398, 410, 426, 127, 673, 511, 377, 491, 50, 521, 94, 666, 573, 167, 417, 593, 81, 40, 669, 524, 289, 555, 600, 673, 194, 145, 645, 66, 567, 543, 148, 673, 65, 274, 192, 16, 585, 534, 420, 36, 541, 673, 196, 427, 448, 482, 649, 262, 75, 393, 554, 673, 522, 673, 435, 309, 362, 328, 131, 28, 424, 312, 439, 659, 455, 160, 327, 166, 670, 84, 286, 99, 527, 24, 21, 570, 206, 405, 37, 92, 378, 667, 183, 673, 48, 177, 43, 67, 77, 658, 301, 137, 180, 205, 517, 477, 673, 653, 413, 351, 444, 428, 267, 449, 665, 143, 496, 171, 22, 63, 489, 673, 637, 416, 497, 340, 563, 519, 451, 673, 174, 550, 453, 379, 659, 577, 559, 235, 344, 673, 548, 83, 484, 673, 617, 556, 645, 425, 401, 594, 42, 457, 376, 294, 338, 215, 296, 82, 258, 357, 80, 647, 242, 404, 660, 250, 249, 163, 280, 673, 360, 147, 181, 116, 673, 352, 7, 291, 27, 101, 14, 5, 58, 661, 221, 306, 667, 155, 12, 261, 193, 271, 57, 186, 337, 321, 673, 156, 223, 103, 69, 673, 265, 279, 673, 500, 487, 490, 35, 381, 292, 62, 673, 285, 313, 619, 481, 191, 100, 113, 540, 662, 11, 595, 669, 369, 348, 432, 204, 60, 91, 210, 78, 673, 273, 371, 240, 109, 673, 384, 670, 128, 298, 182, 375, 461, 648, 363, 179, 282, 370, 582, 503, 673, 6, 673, 276, 450, 561, 465, 314, 590, 202, 539, 187, 217, 666, 609, 175, 264, 518, 512, 466, 474, 650, 234, 478, 295, 353, 395, 655, 165, 140, 226, 255, 673, 119, 224, 247, 4, 233, 663, 102, 310, 134, 673, 218, 15, 132, 533, 641, 135, 123, 672, 316, 526, 631, 471, 542, 201, 418, 574, 468, 547, 673, 624, 29, 504, 268, 207, 336, 54, 673, 308, 386, 656, 414, 603, 415, 668, 473, 431, 266, 8, 441, 53, 673, 606, 214, 252, 367, 673, 516, 528, 387, 520, 447, 107, 284, 2, 673, 412, 104, 232, 409, 106, 251, 673, 514, 664, 281, 318, 339, 225, 654, 246, 26, 86, 480, 39, 30, 361, 10, 646, 329, 25, 248, 303, 673, 269, 150, 197, 320, 76, 38, 256, 212, 657, 459, 272, 319, 397, 673, 125, 407, 510, 209, 152, 23, 551, 673, 536, 110, 287, 673, 464, 579, 85, 245, 649, 356, 365, 558, 440, 372, 658, 442, 458, 531, 293, 390, 399, 671, 438, 149, 391, 126, 437, 290, 368, 673, 73, 244, 229, 315, 74, 302, 68, 673, 366, 142, 652, 3, 673, 621, 385, 44, 157, 408, 341, 523, 642, 162, 525, 185, 515, 493, 168, 557, 673, 608, 188, 354, 651, 172, 333, 136, 625, 72, 90, 629, 498, 673, 509, 632, 580, 307, 643, 419, 620, 583, 479, 114, 97, 644, 115, 486, 598, 673, 253, 597];

%% int: experiments = compounds*max_compound_concentrations*replicates;  %% For only the 2 first plates!
int: max_experiments = 320*1*2;

constraint forall(i in Plates,j in Rows, k in Columns)(
  if (i-1)*numrows*numcols+(j-1)*numcols+k <= temp then
    if fixed_plates[(i-1)*numrows*numcols+(j-1)*numcols+k] <= max_experiments then
      plates[i,j,k] = fixed_plates[(i-1)*numrows*numcols+(j-1)*numcols+k]
    else 
      plates[i,j,k] = fixed_plates[(i-1)*numrows*numcols+(j-1)*numcols+k] - max_experiments + experiments
  endif endif);
  
  
